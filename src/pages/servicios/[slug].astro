---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import NavBar from "../../components/ui/NavBar.astro";
import Footer from "../../components/ui/Footer.astro";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";

import '../../styles/global.css';

export async function getStaticPaths(){
    const services  = await getCollection("services");
    return services.map((service) => ({
        params: { slug: service.slug },
        props: { service },
    }));
}
const { service } = Astro.props;
const { Content } = await service.render();
---
<Layout title={`${service.data.title}`}>
    <NavBar />
    <main class="pt-32 pb-20">
        <article class="container mx-auto px-4 max-w-4xl">
            <div class="rounded-3xl overflow-hidden shadow-2xl mb-12 h-[300px] lg:h-[500px]">
                <Image src={service.data.image} alt={service.data.title} class="w-full h-full object-cover" transition:name={`image-${service.slug}`} />
            </div>
            <h1 class="text-4xl font-extrabold text-slate-900 lg:text-6xl mb-8" transition:name={`title-${service.slug}`}>{service.data.title}</h1>
            <div class="prose prose-lg prose-blue max-w-none text-slate-700 leading-relaxed" transition:name={`content-${service.slug}`}>
                <Content />
            </div>
            <div class="mt-16 pt-8 border-t border-slate-100">
                <a href="/#servicios" class="inline-flex items-center justify-center gap-2 bg-slate-100 text-slate-700 px-4 py-2.5 rounded-lg font-bold lg:hover:bg-blue-600 lg:hover:text-white transition-all group/btn">
                    <Icon name="mdi:arrow-left" class="w-4 h-4 group-hover/btn:translate-x-1 transition-transform" />
                Volver a servicios
                </a>

            </div>
        </article>
    </main>
    <Footer />
</Layout>
